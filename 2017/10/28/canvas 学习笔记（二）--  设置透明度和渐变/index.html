<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="lingxiaoyuan"><link rel="alternative" href="/atom.xml" title="那年夏天_LXY" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>canvas 学习笔记（二）--  设置透明度和渐变 - 那年夏天_LXY</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">那年夏天_LXY</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">笔记</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-10-28T11:01:17.529Z">October 28, 2017</time><h1 class="post__title"><a href="/2017/10/28/canvas 学习笔记（二）--  设置透明度和渐变/">canvas 学习笔记（二）--  设置透明度和渐变</a></h1><div class="post__main echo"><h4 id="设置透明度"><a href="#设置透明度" class="headerlink" title="设置透明度"></a>设置透明度</h4><p>canvas设置透明度的属性是globalAlpha，值从0(完全透明)到1(完全不透明)，它影响canvans画布里的所有图形。</p>
<p>对于绘制大量透明度相同的图形的时候，可以使用globalAlpha属性设置。canvas样式的代码一般在填充(fill)和描边(stroke)之前就执行。</p>
<pre><code>ctx.globalAlpha = 0.2; // 设置图像透明度为0.2
</code></pre><p>更方便的设置透明度的方式是直接给图形设置具有透明度的颜色，例如:<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// 指定透明颜色，用于搭边或者填充颜色</div><div class="line"> ctx.strokeStyle = &quot;rgba(255,0,0,0.5)&quot;;</div><div class="line"> ctx.fillStyle = &quot;rgba(255,0,0,0.5)&quot;;</div></pre></td></tr></table></figure></p>
<h4 id="设置渐变"><a href="#设置渐变" class="headerlink" title="设置渐变"></a>设置渐变</h4><p>canvas可以填充线性渐变和径向渐变，分别调用createLinearGradient和createRadialGradient方法创建渐变对象，我将这个对象理解为渐变填充的方向(范围)，然后使用addColorStop()方法为对象设置颜色。</p>
<p>线性渐变createLinearGradient(x1,y1,x2,y2)，(x1,y1)是渐变开始点，(x2,y2)是结束点；</p>
<p>径向渐变createRadialGradient(x1,y1,r1,x2,y2,r2)和线性渐变相比，多了两个参数，渐变从圆心为(x1,y1)，半径为r1的圆到圆心为(x2,y2)，半径为r2的圆。</p>
<p>设置渐变过程，首先创建渐变对象：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var lineargradient = ctx.createLinearGradient(0,0,150,150); //(0,0)到(150,150)线性渐变</div><div class="line">var radialgradient = ctx.createRadialGradient(75,75,0,75,75,100) // 径向渐变</div></pre></td></tr></table></figure></p>
<p>为前面创建的对象填充颜色，使用addColorStop(position, color)方法，这个方法接收2个参数，参数1(position)是参数2(color)作用在渐变 对象上的位置。position的值在0到1之间，0.5表示color指定的颜色作用在中间，下面是设置线性黑白渐变的例子：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var lineargradient = ctx.createLinearGradient(0,0,150,150);</div><div class="line">lineargradient.addColorStop(0,&apos;#fff&apos;);</div><div class="line">lineargradient.addColorStop(1,&apos;#000&apos;); // 由白到黑的线性渐变</div></pre></td></tr></table></figure></p>
</div></header></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 lingxiaoyuan</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>