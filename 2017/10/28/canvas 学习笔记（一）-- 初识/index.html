<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="lingxiaoyuan"><link rel="alternative" href="/atom.xml" title="那年夏天_LXY" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>canvas 学习笔记（一）-- 初识 - 那年夏天_LXY</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">那年夏天_LXY</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">笔记</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-10-28T11:01:17.559Z">October 28, 2017</time><h1 class="post__title"><a href="/2017/10/28/canvas 学习笔记（一）-- 初识/">canvas 学习笔记（一）-- 初识</a></h1><div class="post__main echo"><h4 id="干嘛用"><a href="#干嘛用" class="headerlink" title="干嘛用"></a>干嘛用</h4><p>canvas 是HTML5新增的元素。用于绘制图形图像，创建动画，或者进行实时视频处理和渲染。</p>
<h4 id="如何用"><a href="#如何用" class="headerlink" title="如何用"></a>如何用</h4><h5 id="创建画布"><a href="#创建画布" class="headerlink" title="创建画布"></a>创建画布</h5><pre><code>&lt;canvas id=&quot;example1&quot;&gt;&lt;/canvas&gt;
</code></pre><p>上面代码会创建一个宽高为300px和150px（canvas默认宽高）的canvas画布。自定义画布宽高可以设置属性width和height。例如创建一个宽高都为200px的画布:<code>&lt;canvas id=&quot;example1&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;&lt;/canvas&gt;</code>。<br>当canvas的宽高重设时,画布都会被清空。下面封装了一个清空画布的简单方法：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function clearCanvas(canvas, ctx) &#123;</div><div class="line">    // 方法接收两个参数，第一个参数是canvas对象</div><div class="line">    ctx.clearRect(0,0,canvas.width,canvas.height);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h5 id="创建绘制环境"><a href="#创建绘制环境" class="headerlink" title="创建绘制环境"></a>创建绘制环境</h5><p>上面已经创建好了一个canvas画布，要在它上面绘制图形需要使用js。canvas的getContext()方法返回一个用于在画布上绘制的环境，该方法目前接收唯一参数值 “2d”。</p>
<p>先获取上面创建的canvas元素，<br>    <code>var canvas1 = document.getElementById(&#39;example1&#39;);</code></p>
<p>然后定义绘图环境，<br>    <code>var ctx = canvas1.getContext(&#39;2d&#39;);</code><br>接下来就可以用ctx调用 canvas 的方法来绘制图形啦~</p>
<h5 id="绘制基本图形"><a href="#绘制基本图形" class="headerlink" title="绘制基本图形"></a>绘制基本图形</h5><h6 id="canvas绘制图形基本的方法"><a href="#canvas绘制图形基本的方法" class="headerlink" title="canvas绘制图形基本的方法"></a>canvas绘制图形基本的方法</h6><ul>
<li>beginPath(): 开始路径;</li>
<li>closePath(): 闭合路径，不是必须，调用fill()方法（下面会说明）时，没有闭合的路径会自动闭合;</li>
<li>fill(): 填充路径（绘制面）;</li>
<li>stroke(): 线（绘制线）,闭合或者不闭合，闭合路径需要调用closePath()方法;</li>
<li>fillRect(x,y,m,n): 绘制填充矩形， 起始点(x,y),宽m,高n;</li>
<li>strokeRect(x,y,m,n): 绘制线框矩形，起始点(x,y),宽m,高n;</li>
<li>moveTo(x,y): 指定笔触位置到(x,y)上（笔触从一个点移动到另一个点）;</li>
<li>lineTo(x,y): 绘制从当前位置（可以使用moveTo()定义当前位置）到指定位置(x,y)的直线;</li>
<li>arc(x,y,r,start,end,anticlokwise): 绘制圆弧，圆心(x,y),半径r,start和end分别是开始方向和结束方向(弧度，值0 ~ 2*Math.PI),anticlokwise参数，布尔值，是指从逆时针方向还是顺时针方向绘制，默认false,即顺时针方向。</li>
</ul>
<h6 id="绘制矩形"><a href="#绘制矩形" class="headerlink" title="绘制矩形"></a>绘制矩形</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ctx.fillRect(20,20,100,60); // 填充</div><div class="line">ctx.strokeRect(20,20,100,60); // 线框</div></pre></td></tr></table></figure>
<h6 id="绘制圆"><a href="#绘制圆" class="headerlink" title="绘制圆"></a>绘制圆</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ctx.beginPath(); // 开始绘制</div><div class="line">ctx.arc(40,40,40,0,2*Math.PI); // 圆心(40,40),半径为40</div><div class="line">ctx.fill(); // 填充圆路径，stroke()方法使用前closePath()先闭合路径</div></pre></td></tr></table></figure>
<h6 id="绘制三角形"><a href="#绘制三角形" class="headerlink" title="绘制三角形"></a>绘制三角形</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ctx.beginPath();</div><div class="line">ctx.moveTo(20,20); // 从(20,20)开始绘制</div><div class="line">ctx.lineTo(100,100); // 第一根线从点(20,20)开始到点(100,100)结束</div><div class="line">ctx.lineTo(100,20); // 第二根线从点(100,100)到点(100,20)结束</div><div class="line">ctx.closePath(); // 闭合形成三角形</div><div class="line">ctx.fill(); // 或 ctx.stroke()</div></pre></td></tr></table></figure>
<h4 id="图形颜色"><a href="#图形颜色" class="headerlink" title="图形颜色"></a>图形颜色</h4><p>上面绘制的矩形、圆和三角形采用的都是默认的颜色设置，要改变canvas图形颜色需要设置fillStyle或strokeStyle属性。</p>
<p>例如，绘制一个蓝色矩形，只需在fillRect()或strokeRect()方法执行前加上代码<br><code>ctx.fillStyle=&#39;blue&#39;</code>或<code>ctx.strokeStyle=&#39;blue&#39;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ctx.fillStyle = &apos;blue&apos;; // 或 ctx.strokeStyle = &apos;blue&apos;</div><div class="line">ctx.fillRect(20,20,100,60); // ctx.strokeRect(20,20,100,60)</div></pre></td></tr></table></figure>
<!-- 更多请看：https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial --></div></header></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 lingxiaoyuan</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>